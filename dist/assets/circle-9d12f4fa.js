import{j as e,O as M,T as f,P as a,r as x,S as y,I as A,v as g,w as L,M as v,y as z,U as E,z as W,x as H,W as U}from"./index-690d25d7.js";import{u as D}from"./useCircle-ffd17a10.js";import{T as b,a as h,L as Y,b as B,c as V,d as G,e as J,f as K,g as Q}from"./TableSortLabel-e77a220a.js";import{C as X}from"./Container-3bd4a3fc.js";import{T as Z}from"./TextField-182a1ec5.js";import{C as _}from"./Card-8d1f3c65.js";function T({query:n}){return e.jsx(b,{children:e.jsx(h,{align:"center",colSpan:6,sx:{py:3},children:e.jsxs(M,{sx:{textAlign:"center"},children:[e.jsx(f,{variant:"h6",paragraph:!0,children:"Not found"}),e.jsxs(f,{variant:"body2",children:["No results found for Â ",e.jsxs("strong",{children:['"',n,'"']}),".",e.jsx("br",{})," Try checking for typos or using complete words."]})]})})})}T.propTypes={query:a.string};function S({name:n,member:s,city:r,number:c,status:i,created:d}){const[l,t]=x.useState(null),u=m=>{t(m.currentTarget)},p=()=>{t(null)};return e.jsxs(e.Fragment,{children:[e.jsxs(b,{hover:!0,tabIndex:-1,children:[e.jsx(h,{component:"th",scope:"row",padding:"none",children:e.jsx(y,{direction:"row",alignItems:"center",children:e.jsx(f,{variant:"subtitle2",noWrap:!0,children:n})})}),e.jsx(h,{children:s}),e.jsx(h,{children:c}),e.jsx(h,{children:e.jsxs(Y,{color:i==="banned"?"error":"success",children:[i,"success"]})}),e.jsx(h,{children:d}),e.jsx(h,{align:"right",children:e.jsx(A,{onClick:u,children:e.jsx(g,{icon:"eva:more-vertical-fill"})})})]}),e.jsxs(L,{open:!!l,anchorEl:l,onClose:p,anchorOrigin:{vertical:"top",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"right"},PaperProps:{sx:{width:140}},children:[e.jsxs(v,{onClick:p,children:[e.jsx(g,{icon:"eva:edit-fill",sx:{mr:2}}),"Edit"]}),e.jsxs(v,{onClick:p,sx:{color:"error.main"},children:[e.jsx(g,{icon:"eva:trash-2-outline",sx:{mr:2}}),"Delete"]})]})]})}S.propTypes={name:a.string.isRequired,member:a.any.isRequired,city:a.string.isRequired,number:a.string.isRequired,status:a.string.isRequired,created:a.string.isRequired};const $={border:0,margin:-1,padding:0,width:"1px",height:"1px",overflow:"hidden",position:"absolute",whiteSpace:"nowrap",clip:"rect(0 0 0 0)"};function ee(n,s,r){return n?Math.max(0,(1+n)*s-r):0}function C(n,s,r){return n[r]===null?1:s[r]===null||s[r]<n[r]?-1:s[r]>n[r]?1:0}function ne(n,s){return n==="desc"?(r,c)=>C(r,c,s):(r,c)=>-C(r,c,s)}function se({inputData:n,comparator:s,filterName:r}){const c=n.map((i,d)=>[i,d]);return c.sort((i,d)=>{const l=s(i[0],d[0]);return l!==0?l:i[1]-d[1]}),n=c.map(i=>i[0]),r&&(n=n.filter(i=>i.name.toLowerCase().indexOf(r.toLowerCase())!==-1)),n}function P({order:n,orderBy:s,rowCount:r,headLabel:c,numSelected:i,onRequestSort:d}){const l=t=>u=>{d(u,t)};return e.jsx(B,{children:e.jsx(b,{children:c.map(t=>e.jsx(h,{align:t.align||"left",sortDirection:s===t.id?n:!1,sx:{width:t.width,minWidth:t.minWidth},children:e.jsxs(V,{hideSortIcon:!0,active:s===t.id,direction:s===t.id?n:"asc",onClick:l(t.id),children:[t.label,s===t.id?e.jsx(z,{sx:{...$},children:n==="desc"?"sorted descending":"sorted ascending"}):null]})},t.id))})})}P.propTypes={order:a.oneOf(["asc","desc"]),orderBy:a.string,rowCount:a.number,headLabel:a.array,numSelected:a.number,onRequestSort:a.func};function R({emptyRows:n,height:s}){return n?e.jsx(b,{sx:{...s&&{height:s*n}},children:e.jsx(h,{colSpan:9})}):null}R.propTypes={emptyRows:a.number,height:a.number};function re(){const[n,s]=x.useState(0),[r,c]=x.useState("asc"),[i,d]=x.useState("name"),[l,t]=x.useState(""),[u,p]=x.useState(10),{totalCircles:m,circles:I}=D(),F=(o,j)=>{c(i===j&&r==="asc"?"desc":"asc"),d(j)},q=(o,j)=>{s(j)},N=o=>{s(0),p(parseInt(o.target.value,10))},O=o=>{s(0),t(o.target.value)},w=se({inputData:I,comparator:ne(r,i),filterName:l}),k=!w.length&&!!l;return e.jsxs(X,{children:[e.jsxs(y,{direction:"row",alignItems:"center",justifyContent:"space-between",mb:5,children:[e.jsxs(f,{style:{marginBottom:40},variant:"h4",children:["Safety Circles ",e.jsx("br",{})," ",e.jsx("span",{style:{color:"#292727",fontSize:"16px",fontWeight:400,lineHeight:"19.36px"},children:"Manage sfaety circles created by Yawa users."})]}),e.jsxs(y,{direction:"row",spacing:2,children:[e.jsx(Z,{value:l,onChange:O,placeholder:"Search safety circle",InputProps:{startAdornment:e.jsx(E,{position:"start",children:e.jsx(g,{icon:"eva:search-fill"})}),style:{height:"42px",width:"240px"}},variant:"outlined",size:"small"}),e.jsx(W,{variant:"contained",style:{background:"#03BDE9",width:"181px",height:"40px",borderRadius:"4px"},color:"inherit",startIcon:e.jsx(g,{icon:"eva:plus-fill"}),children:"Create New Circle"})]})]}),e.jsxs(_,{children:[e.jsx(H,{children:e.jsx(G,{sx:{overflow:"unset"},children:e.jsxs(J,{sx:{minWidth:800},style:{background:"#F2F2F2"},children:[e.jsx(P,{order:r,orderBy:i,rowCount:m,numSelected:0,onRequestSort:F,headLabel:[{id:"name",label:"Name"},{id:"No. of Members",label:"No. of Members"},{id:"city",label:"City"},{id:"Admin",label:"Admin"},{id:"Created",label:"Created"},{id:"",label:""}]}),e.jsxs(K,{children:[w.slice(n*u,n*u+u).map(o=>e.jsx(S,{name:o.name,member:o.members.length,city:o.city,state:o.state,number:o.phoneNumber,status:o.status,created:o.dateCreated},o.id)),e.jsx(R,{height:77,emptyRows:ee(n,u,m)}),k&&e.jsx(T,{query:l})]})]})})}),e.jsx(Q,{page:n,component:"div",count:m,rowsPerPage:u,onPageChange:q,rowsPerPageOptions:[5,10,25],onRowsPerPageChange:N})]})]})}function ue(){return e.jsxs(e.Fragment,{children:[e.jsx(U,{children:e.jsx("title",{children:" User | Yawa Dashboard "})}),e.jsx(re,{})]})}export{ue as default};
