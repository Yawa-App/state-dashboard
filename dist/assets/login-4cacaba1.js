import{J as b,r,j as e,y as p,X as v,p as S,S as u,Y as k,T as x,U as L,I,v as C,L as E,W as P}from"./index-690d25d7.js";import{u as T,L as A}from"./LoadingButton-eaea74e7.js";import{u as B}from"./authSlide-7e62207c.js";import{C as F}from"./Card-8d1f3c65.js";import{T as f}from"./TextField-182a1ec5.js";const U=()=>{const i=T(),[n]=B();return{handlelogin:async(s,l,o,d)=>{try{const a=await n({email:s,password:l}).unwrap();localStorage.setItem("accessToken",a.token),i.push("/dashboard")}catch(a){d(a.data),console.log(a)}finally{o(!1)}}}};function W(){const i=b(),[n,h]=r.useState(!1),[s,l]=r.useState(""),[o,d]=r.useState(""),[a,g]=r.useState(!1),[m,j]=r.useState(null),{handlelogin:w}=U(),y=async t=>{t.preventDefault(),g(!0),await w(s,o,g,j)},c=t=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t);return e.jsxs(p,{sx:{display:"flex",height:"100vh",...v({color:S(i.palette.background.default,.9),imgUrl:"/assets/background/overlay_4.jpg"})},children:[e.jsxs(u,{sx:{width:"50%",p:5,alignItems:"center",justifyContent:"center"},children:[e.jsx(k,{sx:{mb:5}}),e.jsxs(F,{sx:{p:5,width:"100%",maxWidth:420},children:[e.jsx(x,{variant:"h4",style:{marginBottom:60},children:"Sign in to Yawa App"}),e.jsxs("form",{onSubmit:y,children:[e.jsxs(u,{spacing:3,children:[e.jsx(f,{name:"email",label:"Email address",value:s,onChange:t=>l(t.target.value),error:!!s&&!c(s),helperText:s&&!c(s)?"Enter a valid email":""}),e.jsx(f,{name:"password",label:"Password",type:n?"text":"password",value:o,onChange:t=>d(t.target.value),InputProps:{endAdornment:e.jsx(L,{position:"end",children:e.jsx(I,{onClick:()=>h(!n),edge:"end",children:e.jsx(C,{icon:n?"eva:eye-fill":"eva:eye-off-fill"})})})}})]}),e.jsx(u,{direction:"row",alignItems:"center",justifyContent:"flex-end",sx:{my:3},children:e.jsx(E,{variant:"subtitle2",underline:"hover",href:"/forgot-password",children:"Forgot password?"})}),m&&e.jsx(x,{color:"error",sx:{mb:3},children:m}),e.jsx(A,{fullWidth:!0,size:"large",type:"submit",variant:"contained",color:"inherit",loading:a,disabled:!s||!o||!!(s&&!c(s)),children:"Login"})]})]})]}),e.jsx(p,{sx:{width:"50%",backgroundImage:'url("https://yawaapp.com.ng/oakuglek/2024/05/11shots_so.png")',backgroundSize:"cover",backgroundPosition:"center"}})]})}function _(){return e.jsxs(e.Fragment,{children:[e.jsx(P,{children:e.jsx("title",{children:" Login | Minimal UI "})}),e.jsx(W,{})]})}export{_ as default};
