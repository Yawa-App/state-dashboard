import{V as N,j as e,O as k,T as j,P as a,r as x,S as b,I as H,v as g,w as z,M as w,y as A,U as M,z as W,x as L,W as U}from"./index-690d25d7.js";import{T as f,a as p,b as D,c as G,d as V,e as B,f as Q,g as Y}from"./TableSortLabel-e77a220a.js";import{C as J}from"./Container-3bd4a3fc.js";import{T as K}from"./TextField-182a1ec5.js";import{C as X}from"./Card-8d1f3c65.js";const Z=N.injectEndpoints({endpoints:n=>({getResponder:n.query({query:()=>({url:"/api/admin/responders",method:"GET"})})})}),{useGetResponderQuery:_}=Z,$=()=>{const{data:n}=_();return{responder:(n==null?void 0:n.data)||[]}},ee={border:0,margin:-1,padding:0,width:"1px",height:"1px",overflow:"hidden",position:"absolute",whiteSpace:"nowrap",clip:"rect(0 0 0 0)"};function ne(n,t,r){return n?Math.max(0,(1+n)*t-r):0}function v(n,t,r){return n[r]===null?1:t[r]===null||t[r]<n[r]?-1:t[r]>n[r]?1:0}function te(n,t){return n==="desc"?(r,o)=>v(r,o,t):(r,o)=>-v(r,o,t)}function re({inputData:n,comparator:t,filterName:r}){const o=n.map((i,c)=>[i,c]);return o.sort((i,c)=>{const l=t(i[0],c[0]);return l!==0?l:i[1]-c[1]}),n=o.map(i=>i[0]),r&&(n=n.filter(i=>i.name.toLowerCase().indexOf(r.toLowerCase())!==-1)),n}function T({query:n}){return e.jsx(f,{children:e.jsx(p,{align:"center",colSpan:6,sx:{py:3},children:e.jsxs(k,{sx:{textAlign:"center"},children:[e.jsx(j,{variant:"h6",paragraph:!0,children:"Not found"}),e.jsxs(j,{variant:"body2",children:["No results found for Â ",e.jsxs("strong",{children:['"',n,'"']}),".",e.jsx("br",{})," Try checking for typos or using complete words."]})]})})})}T.propTypes={query:a.string};function S({name:n,emerynum:t,Handler:r,Created:o}){const[i,c]=x.useState(null),l=h=>{c(h.currentTarget)},s=()=>{c(null)};return e.jsxs(e.Fragment,{children:[e.jsxs(f,{hover:!0,tabIndex:-1,children:[e.jsx(p,{component:"th",scope:"row",padding:"none",children:e.jsx(b,{direction:"row",alignItems:"center",children:e.jsx(j,{variant:"subtitle2",noWrap:!0,children:n})})}),e.jsx(p,{children:t}),e.jsx(p,{children:r}),e.jsx(p,{children:o}),e.jsx(p,{align:"right",children:e.jsx(H,{onClick:l,children:e.jsx(g,{icon:"eva:more-vertical-fill"})})})]}),e.jsxs(z,{open:!!i,anchorEl:i,onClose:s,anchorOrigin:{vertical:"top",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"right"},PaperProps:{sx:{width:140}},children:[e.jsxs(w,{onClick:s,children:[e.jsx(g,{icon:"eva:edit-fill",sx:{mr:2}}),"Edit"]}),e.jsxs(w,{onClick:s,sx:{color:"error.main"},children:[e.jsx(g,{icon:"eva:trash-2-outline",sx:{mr:2}}),"Delete"]})]})]})}S.propTypes={name:a.string.isRequired,emerynum:a.string.isRequired,Handler:a.string.isRequired,Created:a.string.isRequired};function C({order:n,orderBy:t,rowCount:r,headLabel:o,numSelected:i,onRequestSort:c}){const l=s=>h=>{c(h,s)};return e.jsx(D,{children:e.jsx(f,{children:o.map(s=>e.jsx(p,{align:s.align||"left",sortDirection:t===s.id?n:!1,sx:{width:s.width,minWidth:s.minWidth},children:e.jsxs(G,{hideSortIcon:!0,active:t===s.id,direction:t===s.id?n:"asc",onClick:l(s.id),children:[s.label,t===s.id?e.jsx(A,{sx:{...ee},children:n==="desc"?"sorted descending":"sorted ascending"}):null]})},s.id))})})}C.propTypes={order:a.oneOf(["asc","desc"]),orderBy:a.string,rowCount:a.number,headLabel:a.array,numSelected:a.number,onRequestSort:a.func};function R({emptyRows:n,height:t}){return n?e.jsx(f,{sx:{...t&&{height:t*n}},children:e.jsx(p,{colSpan:9})}):null}R.propTypes={emptyRows:a.number,height:a.number};function se(){const[n,t]=x.useState(0),[r,o]=x.useState("asc"),[i,c]=x.useState("name"),[l,s]=x.useState(""),[h,P]=x.useState(10),{responder:u}=$(),F=(d,m)=>{o(i===m&&r==="asc"?"desc":"asc"),c(m)},I=(d,m)=>{t(m)},q=d=>{t(0),P(parseInt(d.target.value,10))},E=d=>{t(0),s(d.target.value)},y=re({inputData:u,comparator:te(r,i),filterName:l}),O=!y.length&&!!l;return e.jsxs(J,{children:[e.jsxs(b,{direction:"row",alignItems:"center",justifyContent:"space-between",mb:5,children:[e.jsxs(j,{style:{marginBottom:40},variant:"h4",children:["First Responders",e.jsx("br",{})," ",e.jsx("span",{style:{color:"#292727",fontSize:"16px",fontWeight:400,lineHeight:"19.36px"},children:"Manage safety oriented organizations withing the state."})]}),e.jsxs(b,{direction:"row",spacing:2,children:[e.jsx(K,{value:l,onChange:E,placeholder:"Search safety circle",InputProps:{startAdornment:e.jsx(M,{position:"start",children:e.jsx(g,{icon:"eva:search-fill"})}),style:{height:"42px",width:"240px"}},variant:"outlined",size:"small"}),e.jsx(W,{variant:"contained",style:{background:"#03BDE9",width:"181px",height:"40px",borderRadius:"4px"},color:"inherit",startIcon:e.jsx(g,{icon:"eva:plus-fill"}),children:"Create New Circle"})]})]}),e.jsxs(X,{children:[e.jsx(L,{children:e.jsx(V,{sx:{overflow:"unset"},children:e.jsxs(B,{sx:{minWidth:800},style:{background:"#F2F2F2"},children:[e.jsx(C,{order:r,orderBy:i,rowCount:u==null?void 0:u.length,numSelected:0,onRequestSort:F,headLabel:[{id:"name",label:"Name"},{id:"Emergency No.",label:"Emergency No."},{id:"Handler",label:"Handler"},{id:"Created",label:"Created"},{id:"",label:""}]}),e.jsxs(Q,{children:[y.slice(n*h,n*h+h).map(d=>e.jsx(S,{name:d.name,emerynum:d.members.length,Handler:d.city,Created:d.dateCreated},d.id)),e.jsx(R,{height:77,emptyRows:ne(n,h,u==null?void 0:u.length)}),O&&e.jsx(T,{query:l})]})]})})}),e.jsx(Y,{page:n,component:"div",count:u==null?void 0:u.length,rowsPerPage:h,onPageChange:I,rowsPerPageOptions:[5,10,25],onRowsPerPageChange:q})]})]})}function ue(){return e.jsxs(e.Fragment,{children:[e.jsx(U,{children:e.jsx("title",{children:" User | Yawa Dashboard "})}),e.jsx(se,{})]})}export{ue as default};
